<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width">
    <link rel="icon" href="img/login/logof.png" type="image/x-icon"> 
    <link rel="stylesheet" href="css/signup.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/reset.css">
    <!-- <link rel="stylesheet" href="css/swiper.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <!-- <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script> -->
    <script src="js/swiper.min.js"></script>

    <title>팝마켓</title>
</head>
<body>
  <div class="wrapper randomHome">
    <div class="main_Logo random">
      <!-- <p><img src="img/login/main01.jpg" alt="" class="loginMain_img"></p> -->
      <p class="logo"><img src="img/login/logo.png" alt="" ></p>
      <div class="flow-container con1">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con2">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con1">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con2">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con1">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con2">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con1">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con2">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con1">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con2">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con1">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con2">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con1">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con2">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con1">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con2">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <div class="flow-container con1">
          <div class="flow-text">
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
              <div class="flow-wrap">POP MART KOREA POP MART KOREA POP MART KOREA</div>
          </div>
      </div><!--flow-container : END-->
      <script>
        const wrapper = document.querySelector('.wrapper');
        const flowContainers = document.querySelectorAll('.flow-container.con1');
        const flowContainersTwo = document.querySelectorAll('.flow-container.con2');
    
        setTimeout(function() {
          flowContainers.forEach(function(Event) {
            Event.classList.add('start');
          });
        }, 1000);
        setTimeout(function() {
          flowContainersTwo.forEach(function(Event) {
            Event.classList.add('start');
          });
        }, 1200);

        setTimeout(function() {
          flowContainers.forEach(function(Event) {
            Event.classList.add('on');
            Event.classList.remove('start');
          });
          flowContainersTwo.forEach(function(Event) {
            Event.classList.add('on');
            Event.classList.remove('start');
          });
          setTimeout(function() {
            const main_Logo = document.querySelector('.main_Logo');
            main_Logo.classList.add('on');
          }, 1000);
          setTimeout(function() {
            const loginWrapper = document.querySelector('.login-wrapper');
            loginWrapper.classList.add('on');
          }, 1500);
        }, 2000);
        setTimeout(function() {
          const main_LogoRandom = document.querySelector('.main_Logo');
          main_LogoRandom.style.display = 'none';
        }, 3000);
        setTimeout(function() {
          const main_LogoRandom = document.querySelector('.main_Logo');
          main_LogoRandom.style.display = 'none';
        }, 3000);
        setTimeout(function() {
          const home = document.querySelector('.home');
          home.style.display = 'block';
        }, 3200);

    </script>
  </div><!--main_Logo : END-->
    <div class="home">
      <h1><img src="img/login/logo.png" alt="로고"></h1>
      <h2>내 스타일 취향 분석</h2>
      <h3 class="style_txt">가장 마음에 드는 <br />스타일을 선택해 주세요</h3>
      <div class="btns">
        <div class="bar">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div><!--bar : END-->
        <div class="btn-group btn-group-1 group-active">
          <button class="keyword-btn" data-keyword="귀여움">귀여움1</button>
          <button class="keyword-btn" data-keyword="액션">액션1</button>
          <button class="keyword-btn" data-keyword="판타지">판타지1</button>
          <button class="keyword-btn" data-keyword="환상">환상1</button>
        </div><!--btn-group-1-->
        <div class="btn-group btn-group-2">
          <button class="keyword-btn" data-keyword="귀여움2">귀여움2</button>
          <button class="keyword-btn" data-keyword="액션2">액션2</button>
          <button class="keyword-btn" data-keyword="판타지2">판타지2</button>
          <button class="keyword-btn" data-keyword="환상2">환상2</button>
        </div><!--btn-group-2-->
        <div class="btn-group btn-group-3">
          <button class="keyword-btn" data-keyword="귀여움2">귀여움3</button>
          <button class="keyword-btn" data-keyword="액션2">액션3</button>
          <button class="keyword-btn" data-keyword="판타지2">판타지3</button>
          <button class="keyword-btn" data-keyword="환상2">환상3</button>
        </div><!--btn-group-3-->
        <div class="btn-group btn-group-4">
          <button class="keyword-btn " data-keyword="귀여움2">귀여움4</button>
          <button class="keyword-btn " data-keyword="액션2">액션4</button>
          <button class="keyword-btn " data-keyword="판타지2">판타지4</button>
          <button class="keyword-btn " data-keyword="환상2">환상4</button>
        </div><!--btn-group-4-->
      </div><!--btns : END-->
      <div class="resultBtns">
        <a href="random.html" class="reset-btn">Back</a>
        <button class="result-btn">다시 분석</button>
      </div><!--resultBtns : END-->
      <div class="image-container">
          <img id="image" src="img/default.jpg" alt="이미지">
          <p class="info_ef"><span class="nickData"></span><span>님은 </span><span id="info"></span></p>
          <div class="favorites">
            <p><span class="nickData"></span><span>님이 좋아하는 스타일의 POP 스토어를 즐겨찾기 하세요.</span></p>
            <ul>
              <li class="PUCKY">
                <dl>
                  <dt>
                    <img src="img/random/PUCKY.jpg" alt="PUCKY">
                  </dt>
                  <dd>PUCKY</dd>
                </dl>
                <p><span class="on_off">on/off</span></p>
              </li>
              <li class="DIMOO">
                <dl>
                  <dt>
                    <img src="img/random/DIMOO.jpg" alt="DIMOO">
                  </dt>
                  <dd>DIMOO</dd>
                </dl>
                <p><span class="on_off">on/off</span></p>
              </li>
              <li class="SKULLPANDA">
                <dl>
                  <dt>
                    <img src="img/random/SKULLPANDA.jpg" alt="SKULLPANDA">
                  </dt>
                  <dd>SKULLPANDA</dd>
                </dl>
                <p><span class="on_off">on/off</span></p>
              </li>
              <li class="DISNEY">
                <dl>
                  <dt>
                    <img src="img/random/DISNEY.jpg" alt="DISNEY">
                  </dt>
                  <dd>DISNEY</dd>
                </dl>
                <p><span class="on_off">on/off</span></p>
              </li>
              <li class="SPECIAL">
                <dl>
                  <dt>
                    <img src="img/random/SPECIAL.jpg" alt="SPECIAL">
                  </dt>
                  <dd>SPECIAL</dd>
                </dl>
                <p><span class="on_off">on/off</span></p>
              </li>
              <li class="OTHERS">
                <dl>
                  <dt>
                    <img src="img/random/OTHERS.jpg" alt="OTHERS">
                  </dt>
                  <dd>OTHERS</dd>
                </dl>
                <p><span class="on_off">on/off</span></p>
              </li>
            </ul>
            <button class="start" onclick="handleButtonClick()">START !!</button>

            <script>
              function handleButtonClick() {
                // home.html로 이동할 때 URL에 "?source=random"을 추가하여 정보를 전달합니다.
                window.location.href = "home.html?source=random";
              }
            </script>
            
          </div><!--favorites : END-->
      </div><!--image-container : END-->

    <script>
const 회원정보 = JSON.parse(localStorage.getItem('회원정보'));
const nickname = 회원정보[0]['닉네임_nick'];

const pElements = document.querySelectorAll('.nickData');
pElements.forEach((pElement) => {
  pElement.textContent = nickname;
});



// 별 클릭
const lis = Array.from(document.querySelectorAll(".favorites ul li"));

function toggleOnOff(element) {
  const onOffElement = element.querySelector(".on_off");
  onOffElement.classList.toggle("on");

  const textElement = element.querySelector("dd");
  const text = textElement.textContent;

  const savedArray = JSON.parse(localStorage.getItem("favoritesArray")) || [];
  const existingItem = savedArray.find(item => item.className === element.className);

  if (onOffElement.classList.contains("on") && !existingItem) {
    // 이미지 가져오기
    const imgElement = element.querySelector("dt img");
    const imageUrl = imgElement.getAttribute("src");

    savedArray.push({ className: element.className, text, imageUrl });
  } else if (!onOffElement.classList.contains("on") && existingItem) {
    savedArray.splice(savedArray.indexOf(existingItem), 1);
  }

  localStorage.setItem("favoritesArray", JSON.stringify(savedArray));
}

function init() {
  lis.forEach(li => {
    li.addEventListener("click", () => toggleOnOff(li));

    const textElement = li.querySelector("dd");
    const savedArray = JSON.parse(localStorage.getItem("favoritesArray")) || [];
    const existingItem = savedArray.find(item => item.className === li.className);

    if (existingItem) {
      textElement.textContent = existingItem.text;
      li.querySelector(".on_off").classList.add("on");

      // 이미지 표시
      const imgElement = li.querySelector("dt img");
      imgElement.src = existingItem.imageUrl;
    }
  });
}

window.addEventListener("load", init);


    </script>



    </div><!--home : END-->
  </div><!--wrapper : END-->
  <script src="js/main.js"></script>

</body>
</html>